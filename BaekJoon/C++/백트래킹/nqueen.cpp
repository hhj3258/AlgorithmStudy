#include <stdio.h>
#include <stdlib.h>
#include <time.h>
#include <iostream>
using namespace std;
int count = 0;
int n;
int board[15];
int cnt = 0;
// 유망한지 판단하는 함수
int promising(int cdx)
{
    // 같은 열이면 안되고, 대각선상에 있어서도 안 된다.
    for (int i = 0; i < cdx; i++)
    {
        if (board[cdx] == board[i] || cdx - i == abs(board[cdx] - board[i]))
        {
            return 0;
        }
    }
    return 1;
}
time_t s, e;
int sum = 0;
// nqueen 알고리즘 수행
void nqueen(int cdx)
{

    // cdx가 마지막 행까지 수행하고 여기까지 오면, 찾기 완료
    if (cdx == n)
    {
        count++;
        //cout << endl;
        return;
    }

    for (int i = 0; i < n; i++)
    {

        board[cdx] = i; // cdx번째 행, i번째 열에 queen을 놓아본다.
        // 이후 그 행에 둔 것에 대한 유망성을 판단한다.
        if (!promising(cdx))
            continue;
        // 그 자리에 두어도 괜찮았다면,
        s = clock();
        //cout << "[" << cdx << " " << board[cdx] << "]\n";
        nqueen(cdx + 1); // 그 다음 행에 대해 퀸을 놓는 것을 해 본다.

        e = clock();
        sum += e - s;
    }

    cnt++;
}

int main()
{

    scanf("%d", &n);
    time_t start = clock();
    nqueen(0);
    printf("\n%d\n", count);

    time_t end = clock();
    double result_time = (double)(end - start);
    printf("time: %f ms\n", result_time);
    printf("sum: %d\n", sum);
    printf("cnt: %d", cnt);
}